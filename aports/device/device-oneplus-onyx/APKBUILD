pkgname=device-oneplus-onyx
pkgver=1
pkgrel=8
pkgdesc="OnePlus X"
url="https://github.com/postmarketOS"
arch="noarch"
license="MIT"
depends="linux-oneplus-onyx linux-firmware mkbootimg msm-fb-refresher"
makedepends=""
install=""
subpackages="$pkgname-weston"
source="deviceinfo 90-android-touch-dev.rules weston.ini fb.modes"
options="!check"

package() {
	install -Dm644 "$srcdir"/deviceinfo \
		"$pkgdir"/etc/deviceinfo
	install -Dm644 "$srcdir"/90-android-touch-dev.rules \
		"$pkgdir"/etc/udev/rules.d/90-android-touch-dev.rules
	install -Dm644 "$srcdir"/fb.modes \
		"$pkgdir"/etc/fb.modes

}

weston() {
	install_if="$pkgname weston"
	install -Dm644 "$srcdir"/weston.ini \
		"$subpkgdir"/etc/xdg/weston/weston.ini
}

sha512sums="ee1294a74cde4d5609d06922635c76098ece6cad39e37bcc60b1d6effc5b0a32f4b5b9c5f7559fb4db5ec6dc8ccba1a50c235420e7d3d38ddd5aeec363559d91  deviceinfo
ee472d310315e2d4455897387d7998e6bab3f3a1d43d83699721c5152e85155e575c04000bdbbbc9f2757890c66b9eb6bedd70581adff5a68ff8c289b5f7f0f1  90-android-touch-dev.rules
2c16948e29486498b582ebde0527ec97af93ac24f6cccddd7bfd33171147031f335dc2c15e97443ddeb97f537a90de1157d968eed5663d62a0e905aff0504801  weston.ini
1452360bab1146643d8c6e0c881bfc145030cd5e3704765fc17f701dcec3f3e890a93db77e1b6afd6884d48b790e7dfc1013bbeedd619ae798baccaeab118847  fb.modes"
